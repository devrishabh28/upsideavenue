<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{fragments/imports :: imports(metaTitle='Posts')}">
</head>

<body>
    <nav th:replace="~{fragments/header :: nav}"></nav>

    <div class="container">
        <div class="p-5 mb-4 text-bg-light rounded-3">
            <div class="container-fluid py-5 row">
                <h5 class="display-6 fw-bold col-md-8 col-sm-12 col-lg-10">My Posts</h5>
                <!-- <p class="col-md-8 d-none d-lg-block">
                    Using a series of utilities, you can create this jumbotron, just like the one in previous versions
                    of Bootstrap. Check out the examples below for how you can remix and restyle it to your liking.
                </p> -->
                <a class="btn btn-primary col-sm-12 col-md-4 col-lg-2 d-flex justify-content-center align-items-center"
                    th:href="@{/posts/create}">
                    Create
                </a>
            </div>
        </div>
    </div>

    <div th:if="${ not#lists.isEmpty(posts)}" class="container">
        <div class="row">
            <div th:each="post: ${posts}" class="col-md-6 col-lg-4 mb-4">
                <div class="h-100 border rounded-3" th:classappend="${post.isRent() ? '' : 'text-bg-light'}">
                    <img th:src="@{${'/image/display/' + post.propertyId.getPhotos().get(0).photoId}}" alt=""
                        th:if="${ not#lists.isEmpty(post.propertyId.photos)}" style="width: 100%;">

                    <div class="p-5">
                        <h4 th:text="${post.propertyId.propertyName}" class="mb-0"></h4>
                        <div class="d-flex mb-1">
                            <p th:text="'&nbsp;&#36;' + ${post.price}" class="m-0 p-0 fw-bold"></p>
                        </div>

                        <div class="d-flex">
                            <small th:text="${post.propertyId.houseNumber}" class="m-0 p-0"></small>
                            <small class="m-0 p-0">,&nbsp;</small>
                            <small th:text="${post.propertyId.street}" class="m-0 p-0"></small>
                        </div>

                        <div class="d-flex m-0 p-0">
                            <small th:text="${post.propertyId.city}" class="m-0 p-0"></small>
                            <small class="m-0 p-0">,&nbsp;</small>
                            <small th:text="${post.propertyId.state}" class="m-0 p-0"></small>
                        </div>

                        <small th:text="${post.propertyId.zipCode}" class="m-0 p-0 mb-4"></small>

                        <div class="mb-2 mt-3">
                            <p th:text="${post.mode}" style="font-size: 10px; padding: 6px 10px;"
                                class="my-0 badge rounded-pill text-bg-danger fw-bold">
                                Mode
                            </p>
                            <p th:text="${post.propertyId.propertySize} + ' sq ft.'"
                                style="font-size: 10px; padding: 6px 10px;"
                                class="my-0 badge rounded-pill text-bg-dark fw-bold">
                                Size
                            </p>
                            <p th:text="${post.propertyId.propertyType}" style="font-size: 10px; padding: 6px 10px;"
                                class="my-0 badge rounded-pill text-bg-dark fw-bold">
                                Property Type
                            </p>
                            <p th:text="${post.propertyId.bedrooms} + ' BHK'"
                                style="font-size: 10px; padding: 6px 10px;"
                                class="my-0 badge rounded-pill text-bg-dark fw-bold">
                                BHK
                            </p>
                            <p th:text="${post.propertyId.furnished}" style="font-size: 10px; padding: 6px 10px;"
                                class="my-0 badge rounded-pill text-bg-dark fw-bold">
                                Furnished
                            </p>
                        </div>

                        <p th:text="${post.agentId.accountname}" class="m-0 p-0 mb-3 fw-bold"></p>
                        <p th:text="${post.postDate}" class="mb-5"></p>

                        <p th:text="${post.description}" class="m-0 p-0 mb-4"></p>

                        <a class="btn btn-outline-dark" th:href="@{'/posts/' + ${post.postId}}">
                            Interested
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer th:replace=" ~{fragments/footer :: footer}">
    </footer>


</body>

</html>